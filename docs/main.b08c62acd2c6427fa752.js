"use strict";(self.webpackChunkbrockdex=self.webpackChunkbrockdex||[]).push([[179],{4442:function(e,t,s){var a=s(5893),i=s(7294),l=s(9060),n=s(9704),o=(e,t="clientWidth")=>{const[s,a]=i.useState((null==e?void 0:e[t])||0);return i.useEffect((()=>{if(e){let i;a(e[t]);const l=()=>{window.clearTimeout(i),i=window.setTimeout((()=>{e[t]!==s&&a(e[t])}),150)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}}}),[e]),i.useEffect((()=>{a((null==e?void 0:e[t])||0)}),[null==e?void 0:e[t]]),s},r=e=>{const{show:t=!1}=e;return t?(0,a.jsx)("div",Object.assign({className:"loader"},{children:"Loading"})):(0,a.jsx)(a.Fragment,{})},c=e=>{const{name:t}=e;return(0,a.jsx)("i",{className:`icon-${t}`})},d=e=>{const{iconName:t,onClick:s,disabled:i=!1,children:l,type:n="default",shape:o="default-shape",title:r,className:d}=e;let u=`btn btn-${n} btn-${o}`;return d&&(u=`${u} ${d}`),u=i?`${u} btn-disabled`:`${u} anim-pulse`,(0,a.jsxs)("div",Object.assign({title:r,onClick:s,className:u},{children:[t&&(0,a.jsx)(c,{name:t}),l]}))},u=e=>{const{title:t,children:s,visible:i=!1,loading:n=!1,topActionBarItems:o,btmActionBarItems:c,closeModal:u}=e;let m="modal";i&&(m=`${m} visible`);const p=document.getElementById("modal-area");return p&&i?l.createPortal((0,a.jsxs)("div",Object.assign({className:m},{children:[(0,a.jsx)("div",{className:"modal-bg",onClick:u}),(0,a.jsxs)("div",Object.assign({className:"modal-fg r05"},{children:[(0,a.jsx)(j,{position:"top",items:[t?{item:(0,a.jsx)("span",{children:t}),position:"center",key:"modal-title",scale:!1}:null,...o instanceof Function&&o()||o instanceof Array&&o||[],{item:(0,a.jsx)(d,{shape:"circle",type:"primary",onClick:u,iconName:"close"}),position:"right",title:"Close",key:"close-modal"}]}),(0,a.jsx)(r,{show:n}),n?(0,a.jsx)("div",{className:"modal-content"}):(0,a.jsx)("div",Object.assign({className:"modal-content p1"},{children:s})),c&&(0,a.jsx)(j,{position:"bottom",items:[...c instanceof Function&&c()||c instanceof Array&&c||[]]})]}))]})),p):null},m=e=>{const{item:t,title:s,alt:l}=e,{Modal:n,open:o}=(()=>{const[e,t]=i.useState(!1),s=i.useCallback((()=>{t(!1)}),[]),l=i.useCallback((()=>{t(!0)}),[]);return{Modal:t=>(0,a.jsx)(u,Object.assign({},t,{visible:e,closeModal:s})),state:e,open:l,close:s}})(),r=l?(0,a.jsx)(l.type,Object.assign({},l.props,{onClick:o})):(0,a.jsx)(d,{title:s,shape:"circle",iconName:"ellipsis-h",onClick:o});return(0,a.jsxs)(a.Fragment,{children:[r,(0,a.jsx)(n,Object.assign({title:s},{children:t}))]})},p=s(6559),v=s.n(p)()({browser:{serialize:!0,write:{info:function(e){console.log(e)},error:function(e){console.log(e)}}}}),g=e=>{var t;const{item:s,scale:l=!0,scaleFactor:n=1,uniqueKey:r,title:c,sectionRef:d,alt:u,siblingWeight:p=n,setReady:g}=e,h=i.useRef(null),b=(0,a.jsx)(m,{item:s,title:c,alt:u}),[f,j]=i.useState({value:null,width:0}),[x,y]=i.useState((null===(t=h.current)||void 0===t?void 0:t.clientWidth)||0);i.useEffect((()=>{var e;(null===(e=h.current)||void 0===e?void 0:e.clientWidth)&&!x&&y(h.current.clientWidth)}),[s]);const k=o(null==d?void 0:d.current);i.useLayoutEffect((()=>{v.debug({item:r,sectionWidth:k,originalWidth:x,siblingWeight:p},"ActionBarItem - calculating for scaling"),l&&n&&k&&p&&x?!f.value&&x*n>k/p?(v.debug({scaling:f},`ActionBarItem - item '${r}' original width exceeds sectionRef's`),j({value:!0,width:0})):(f.value||null==f.value)&&x*n<=k/p&&(j({value:!1,width:0}),v.debug({originalWidth:x,sectionWidth:k,item:r},"ActionBarItem - disabling scaling")):l||j({value:!1,width:0})}),[x,l,n,k,r]);const w=i.useMemo((()=>f.value?b:s),[f,s,b]);return i.useEffect((()=>{var e;const t=(null===(e=h.current)||void 0===e?void 0:e.clientWidth)||0;!0!==f.value&&!1!==f.value||f.width===t||(v.debug({width:t,element:h.current},"ActionBarItem - scaling changed, updating width"),j({value:f.value,width:t}))}),[f,h]),i.useEffect((()=>{const e={element:h.current,key:r};let t;return w&&f.width&&(t=window.setTimeout((()=>g&&g(e)),500)),()=>{t&&window.clearTimeout(t)}}),[w,f]),(0,a.jsx)("div",Object.assign({ref:h,className:"actionbar-item p025 f jcc"},{children:w}))},h=e=>{const{visible:t=!1,header:s,children:n,footer:o,closeSidebar:r}=e,[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(!1);let p="sidebar";i.useEffect((()=>{let e,s;return t?(d(t),s=window.setTimeout((()=>m(t)),150)):(e=window.setTimeout((()=>d(t)),500),m(t)),()=>{e&&window.clearTimeout(e),s&&window.clearTimeout(s)}}),[t]),u&&(p=`${p} visible`);const v=document.getElementById("sidebar-area");return v&&c?l.createPortal((0,a.jsxs)("div",Object.assign({className:p},{children:[(0,a.jsx)("div",Object.assign({className:"sidebar-bg",onClick:r},{children:" "})),(0,a.jsxs)("div",Object.assign({className:"sidebar-fg fd-col text-nosel"},{children:[s&&(0,a.jsx)("div",Object.assign({className:"sidebar-header"},{children:s})),(0,a.jsx)("div",Object.assign({className:"sidebar-children"},{children:n})),o&&(0,a.jsx)("div",Object.assign({className:"sidebar-footer"},{children:o}))]}))]})),v):null};const b=e=>{const{items:t,title:s}=e,[l,n]=i.useState(!1),o=i.useRef(null),r=i.useCallback((e=>{o.current,e&&n(!0),o.current=e}),[]),c=i.useMemo((()=>t.map((e=>(0,a.jsx)(e.type,Object.assign({},e.props,{siblingWeight:1,sectionRef:o}),e.key)))),[t]),{Sidebar:u,open:m}=(()=>{const[e,t]=i.useState(!1),s=i.useCallback((()=>{t(!1)}),[]),l=i.useCallback((()=>{t(!0)}),[]);return{Sidebar:t=>(0,a.jsx)(h,Object.assign({},t,{visible:e,closeSidebar:s})),state:e,open:l,close:s}})();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{title:s,shape:"circle",iconName:"ellipsis-v",onClick:m}),(0,a.jsx)(u,{children:(0,a.jsx)("div",Object.assign({ref:r,className:"actionbar-section-content"},{children:c}))})]})};var f=e=>{const{type:t,items:s}=e,l=i.useRef(null),n=i.useRef({}),[r,c]=i.useState(n.current),[d,u]=i.useState({value:!1,itemsWidth:0}),[m,p]=i.useState(!1),[h,f]=i.useState(!1),j=o(l.current),x=`actionbar-${t}`,y=i.useCallback((e=>{if(e&&e.element&&"center"!==t)return n.current[e.key]=e.element,c(Object.assign({},n.current)),n.current[e.key]}),[]),k=i.useCallback((e=>{l.current,e&&f(!0),l.current=e}),[]),w=i.useMemo((()=>{const e=s.map((e=>{if((null==e?void 0:e.position)===t)return(0,a.jsx)(g,{item:e.item,title:e.title,uniqueKey:e.key,sectionRef:l,setReady:y,scale:e.scale,alt:e.alt},e.key);m||"center"!==(null==e?void 0:e.position)||p(!0)})).filter((e=>void 0!==e));return e.length&&v.debug(`section at ${t} has n. items`,e.length),e.map((t=>(0,a.jsx)(t.type,Object.assign({},t.props,{siblingWeight:e.length}),t.key)))}),[s]);i.useEffect((()=>{n.current=Object.assign({},n.current)}),[w]);const C=i.useCallback((e=>{const t=Object.values(e).reduce(((e,t)=>e+((null==t?void 0:t.offsetWidth)||0)),0);v.debug({sectionWidth:j,totalItemsWidth:t,scaling:d},"ActionBarSection - calculating whether it should scale"),!d.value&&t&&j&&t>=j?(v.debug({sectionWidth:j,totalItemsWidth:t},"ActionBarSection - should scale"),u({value:!0,itemsWidth:t})):d.value&&d.itemsWidth&&j&&d.itemsWidth<j&&(v.debug({sectionWidth:j,itemsWidth:d.itemsWidth},"ActionBarSection - should not scale"),u({value:!1,itemsWidth:0}))}),[j,d]);i.useEffect((()=>{C(n.current)}),[r,j]);const N=i.useMemo((()=>d.value?(0,a.jsx)(b,{items:w}):w),[d,w]);return w.length||m?(0,a.jsx)("div",Object.assign({className:x,ref:k},{children:N})):null},j=e=>{const{position:t="top",items:s,type:i="default",className:l}=e;let n=`actionbar-container ${i} ${t} py05`;return l&&(n=`${n} ${l}`),(0,a.jsxs)("div",Object.assign({className:n},{children:[(0,a.jsx)(f,{type:"left",items:s}),(0,a.jsx)(f,{type:"center",items:s}),(0,a.jsx)(f,{type:"right",items:s})]}))},x=s(9670),y=s(9669),k=s.n(y);const w=async e=>{try{const{data:t}=await k().get("https://pokeapi.co/api/v2/pokemon/"+e,{method:"GET",headers:{crossorigin:!0,"Content-Type":"application/json","Access-Control-Allow-Headers":"*"}});if(null==t?void 0:t.id)return t;throw Error(`Unexpected response: ${t}`)}catch(e){throw new Error(e)}},C=(0,x.hg)("poke/getPokemon",(async(e,t)=>{let s={name:e},a=await w(e);return a&&(s=a),a})),N=(0,x.PH)("poke/resetPokemon"),O=(0,x.PH)("poke/setFocus",(e=>({payload:e}))),S={loading:!1,data:null};var F=(0,x.Lq)(S,(e=>{e.addCase(O,((e,t)=>{e.data=t.payload})).addCase(C.fulfilled,((e,t)=>{let s=t.payload;e.data=s,e.loading=!1})).addCase(C.pending,((e,t)=>{e.loading=!1,e.data=S.data})).addCase(N,((e,t)=>{e.data=S.data}))}));const E=(0,x.PH)("poke/resetDetailListStatus"),I=(0,x.PH)("poke/updateDetailedList"),P=(0,x.hg)("poke/detailedList",(async(e,{getState:t})=>{let s={},a=0,i={results:{}},l=t().detailedList.results;for(var n=0;n<e.length;n++){let t=e[n];if(!l.hasOwnProperty(t.name)){let e=await w(t.name);s[e.name]=e}a++,e.length===a&&(i={results:s})}return i})),$={results:{},loading:!1,success:!1,error:void 0};var T=(0,x.Lq)($,(e=>{e.addCase(E,((e,t)=>{e.loading=$.loading,e.success=$.success})).addCase(I,((e,t)=>{let s=t.payload;e.results=Object.assign(e.results,s)})).addCase(P.fulfilled,((e,t)=>{let s=t.payload;e.loading=!1,e.success=!0,e.results=Object.assign(e.results,s.results)})).addCase(P.pending,((e,t)=>{e.loading=!0,e.results=e.results,e.success=!1}))})),L=e=>{const{title:t,size:s="medium",onClick:i,bgColor:l="#999999",bgImage:n,className:o}=e;let r=`card ${s} m1`;return(0,a.jsxs)("div",Object.assign({className:r,onClick:i},{children:[(0,a.jsx)("div",{className:"card-hero",style:{backgroundRepeat:n?"no-repeat":void 0,backgroundSize:n?"contain":void 0,backgroundPosition:n?"center":void 0,backgroundImage:n?"url("+n+")":void 0}}),(0,a.jsx)("span",Object.assign({className:"card-title"},{children:t}))]}))},A=e=>{const{id:t,list:s,next:l,previous:o}=e,r=(0,n.I0)(),[c,d]=i.useState(void 0),[u,m]=i.useState({name:t}),p=i.useCallback((()=>{r(O(u))}),[r,u]);var v={name:t},g=null==s?void 0:s[t];return i.useEffect((()=>{var e,s;g&&((v=Object.assign({},g)).name=t,v.next=l,v.previous=o,d(null===(s=null===(e=null==v?void 0:v.sprites)||void 0===e?void 0:e.other["official-artwork"])||void 0===s?void 0:s.front_default),m(v))}),[g]),(0,a.jsx)(L,Object.assign({onClick:p,bgImage:c},e))};const W=async(e,t)=>{var s;try{const{data:a}=await k().get("https://pokeapi.co/api/v2/pokemon",{method:"GET",headers:{crossorigin:!0,"Content-Type":"application/json","Access-Control-Allow-Headers":"*"},params:{offset:e,limit:t}});if(a&&(null===(s=null==a?void 0:a.results)||void 0===s?void 0:s.length))return a;throw Error(`Unexpected response: ${a}`)}catch(e){throw new Error(e)}},M=(0,x.PH)("poke/resetList"),R=(0,x.hg)("poke/list",(async(e,t)=>{const{offset:s=0,limit:a=24,query:i=""}=e;t.dispatch(E());let l={total:0,results:[],next:null,previous:null};if(i&&""!==i){if(i&&""!==i){let e=Number(localStorage.getItem("total")),t=await W(0,e);if(t){var n=new RegExp(i,"i"),o=0,r=t.results.filter((e=>{let t=n.test(e.name);return t&&o++,t&&o>s&&o<=s+a}));l={total:t.count,results:r,next:r.length<o?{offset:(s||0)+a,limit:a}:null,previous:s?{offset:(s||0)-a,limit:a}:null}}}}else{let e=await W(s,a);e&&(l={total:e.count,results:e.results,next:e.next?{offset:(s||0)+a,limit:a}:null,previous:e.previous?{offset:(s||0)-a,limit:a}:null})}return l})),q={results:[],total:0,loading:!1,error:void 0,next:null,previous:null,success:!1};var B=(0,x.Lq)(q,(e=>{e.addCase(M,((e,t)=>q)).addCase(R.fulfilled,((e,t)=>{const{offset:s,limit:a,query:i}=t.meta.arg;let l=t.payload;e.loading=q.loading,e.total=l.total,e.results.splice(s||0,a||0,...l.results),e.next=l.next,e.previous=l.previous,e.success=!0})).addCase(R.pending,((e,t)=>{e.loading=!0,e.success=q.success,e.error=q.error}))})),H=e=>{const{list:t,listProcessor:s,onProcessEnd:i}=e,{processed:l,elements:n}=s(t);return i&&i(l),(0,a.jsx)(a.Fragment,{children:n})},D=e=>{const{data:t,pageSize:s,infiniteScroll:i,type:l="list",headerItems:n,footerItems:o,listProcessor:r,onProcessEnd:c}=e;return(0,a.jsxs)("div",Object.assign({className:"list f p1 fd-col aic"},{children:[n&&(0,a.jsx)(j,{position:"top",items:n||[]}),(0,a.jsx)("div",Object.assign({className:"col-9 col-lg-12"},{children:(0,a.jsx)("div",Object.assign({className:"columns jcc"},{children:i?((e,t,s,i)=>{let l=Math.ceil(e.length/t),n=[];for(var o=0;o<l;o++){let l=e.slice(o*t,o*t+t),r=(0,a.jsx)(H,{list:l,listProcessor:s,onProcessEnd:i},o);n.push(r)}return n})(t,s,r,c):(0,a.jsx)(H,{list:t,listProcessor:r,onProcessEnd:c})}))})),o&&(0,a.jsx)(j,{position:"bottom",items:o})]}))},z=e=>{const{options:t,name:s,label:l,onChange:n}=e,[o,r]=i.useState(t.filter((e=>e.selected))[0]),c=i.useRef(null),d=i.useRef(null),u=i.useCallback((e=>{var t;c.current&&c.current.value!==e.value&&(c.current.value=e.value,e.selected=!0,r(e)),null===(t=d.current)||void 0===t||t.blur()}),[c]);return i.useEffect((()=>{o&&n&&n(o)}),[o,d]),(0,a.jsxs)("div",Object.assign({className:"dropdown"},{children:[l&&(0,a.jsx)("label",Object.assign({className:"dropdown-label",htmlFor:s},{children:l})),(0,a.jsxs)("div",Object.assign({tabIndex:0,className:"dropdown-select anim-pulse",ref:d},{children:[(0,a.jsx)("span",{children:(null==o?void 0:o.label)||"Select..."}),(0,a.jsx)("div",{className:"button"}),(0,a.jsx)("ul",{children:t.map(((e,t)=>(0,a.jsx)("li",Object.assign({onClick:t=>{u(e)}},{children:e.label}),t)))})]})),(0,a.jsx)("select",Object.assign({ref:c,name:s,defaultValue:null==o?void 0:o.value},{children:t.map(((e,t)=>(0,a.jsx)("option",Object.assign({value:e.value},{children:e.label}),t)))}))]}))},V=e=>{const{}=e,t=(0,n.I0)(),[s,l]=i.useState(0),[o,r]=i.useState(28),[c,u]=i.useState(""),[m,p]=i.useState(!1),[v,g]=i.useState(!1),[h,b]=i.useState([]),[f,j]=i.useState(1),[x,y]=i.useState("page"),k=(0,n.v9)((e=>e.ui.query)),w=(0,n.v9)((e=>e.list)),C=w.results,N=(0,n.v9)((e=>e.list.next)),O=(0,n.v9)((e=>e.list.previous)),S=(0,n.v9)((e=>e.detailedList));i.useEffect((()=>{(k||""===k)&&(u(k),l(0),r(28),t(M()))}),[k]),i.useEffect((()=>{((e,s,a)=>{t(R({offset:e,limit:s,query:a}))})(s,o,c);let e=Math.ceil((s+o)/o);j(e)}),[s,o,c]),i.useEffect((()=>{w.success&&!w.loading?p(!0):p(!1)}),[w.loading,w.success]),i.useEffect((()=>{let e=C.slice(s,s+o);!m||S.loading||S.success||((e=>{t(P(e))})(e),g(!1))}),[m]),i.useEffect((()=>{b("page"===x?C.slice(s,s+o):C)}),[s,o,C,x]);const F=i.useCallback((()=>{C&&N&&(l(N.offset),r(N.limit))}),[C,N]),E=i.useCallback((()=>{C&&O&&(l(O.offset),r(O.limit))}),[C,O]),$=i.useCallback((e=>{(e=>{for(var t in e)return!1;return!0})(e)||v||(t(I(e)),g(!0))}),[v]),T=i.useCallback((e=>((e,t)=>{const[s,l]=i.useState({}),[n,o]=i.useState([]);return i.useEffect((()=>{let s={};o(null==e?void 0:e.map(((i,l)=>{var n,o;let r=t[i.name],c=Object.assign({},r);return c&&r&&(c.next=null===(n=null==e?void 0:e[l+1])||void 0===n?void 0:n.name,c.previous=null===(o=null==e?void 0:e[l-1])||void 0===o?void 0:o.name,s[i.name]=c),(0,a.jsx)(A,{list:t,next:r&&c.next,previous:r&&c.previous,id:i.name,title:i.name},i.name)}))),l(s)}),[e,t]),{processed:s,elements:n}})(e,S.results)),[S.results]),L=i.useCallback((e=>{("page"===e.value||"scroll"===e.value)&&y(e.value)}),[]);return(0,a.jsx)("div",Object.assign({className:"listView"},{children:(0,a.jsx)(D,{infiniteScroll:"scroll"===x,data:h,pageSize:o,listProcessor:T,onProcessEnd:$,headerItems:[{item:(0,a.jsx)(z,{name:"view",label:"View mode",options:[{label:"Page",value:"page",selected:!0},{label:"Scroll",value:"scroll"}],onChange:L}),position:"left",key:"pagination"}],footerItems:"page"===x?[{item:(0,a.jsx)(d,Object.assign({type:"primary",onClick:E,disabled:!O},{children:"Previous"})),position:"left",key:"nav-previous"},{item:(0,a.jsx)("span",{children:`Page ${f}`}),position:"center",key:"nav-page"},{item:(0,a.jsx)(d,Object.assign({type:"primary",onClick:F,disabled:!N},{children:"Next"})),position:"right",key:"nav-next"}]:[{item:(0,a.jsx)(d,Object.assign({type:"primary",onClick:F,disabled:!N},{children:"More"})),position:"center",key:"nav-more"}]})}))},_=e=>{const{value:t,maxValue:s,color:i="black",showMax:l=!1,separator:n="/"}=e;return(0,a.jsx)("div",Object.assign({className:"bar-container"},{children:(0,a.jsx)("div",Object.assign({className:"bar",style:{backgroundColor:i,width:`calc(100% * ${t}/${s})`}},{children:(0,a.jsx)("div",Object.assign({className:"bar-value"},{children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{children:n}),(0,a.jsx)("span",{children:s})]}):(0,a.jsx)("span",{children:t})}))}))}))};const K=(e,t,s="row")=>{let i="propDetail-value-container ".concat(s);return(0,a.jsx)("ul",Object.assign({className:i},{children:e.map(((e,s)=>(0,a.jsx)("li",Object.assign({className:"propDetail-value"},{children:t(e)}),s)))}))};var G=e=>{const{propName:t,propType:s,propNameMap:i,propValueMap:l,propListLayout:n,value:o}=e;let r,c="propDetail";switch(s){case"string":case"number":c=c.concat(" inline"),r=(0,a.jsxs)("div",Object.assign({className:c},{children:[(0,a.jsx)("span",Object.assign({className:"title"},{children:i&&i[t]||t})),(0,a.jsx)("div",Object.assign({className:"propDetail-value"},{children:o}))]}));break;case"text":r=(0,a.jsxs)("div",Object.assign({className:c},{children:[(0,a.jsx)("span",Object.assign({className:"title"},{children:i&&i[t]||t})),(0,a.jsx)("div",Object.assign({className:"propDetail-value"},{children:o}))]}));break;case"list":let e=l&&l[t];if(!(o instanceof Array&&e))throw new Error("PropDetail - For list prop types, value must be an array and extractor function should be defined");r=(0,a.jsxs)("div",Object.assign({className:c},{children:[(0,a.jsx)("span",Object.assign({className:"title"},{children:i&&i[t]||t})),K(o,e,n)]}));break;default:return null}return(0,a.jsx)(a.Fragment,{children:r})};class U{constructor(e=[],t="favorites"){this.favorites=e||U.getFavorites(),this.favoritesKey=t}static getFavorites(){let e=[];try{let t=localStorage.getItem("favorites");t&&(e=JSON.parse(t))}catch(e){throw v.debug({error:e},"getFavorites - problem while fetching or parsing favorites"),new Error(e)}return e}updateFavorites(e){let t=JSON.stringify(e);return localStorage.setItem(this.favoritesKey,t),this.favorites=e,!0}addToFavorites(e){let t=this.favorites;return t.includes(e)?v.debug({favorites:t},`addToFavorites - attention, favorite with id '${e}' already present`):(t.push(e),this.updateFavorites(t)),t}removeFromFavorites(e){let t=this.favorites,s=!1;return t=t.filter((t=>(s||(s=t===e),t!==e))),s?this.updateFavorites(t):v.debug({favorites:t},`removeFromFavorites - attention, favorite with id '${e}' was not found`),t}}var J=U;const Q=(0,x.PH)("favorites/add",(e=>({payload:new J(J.getFavorites()).addToFavorites(e)}))),X=(0,x.PH)("favorites/remove",(e=>({payload:new J(J.getFavorites()).removeFromFavorites(e)}))),Y={favorites:J.getFavorites()};var Z=(0,x.Lq)(Y,(e=>{e.addCase(Q,((e,t)=>{e.favorites=[...t.payload]})).addCase(X,((e,t)=>{e.favorites=[...t.payload]}))}));const ee=["base_experience","weight","height"],te=["types","stats","abilities"],se={base_experience:"Base exeperience",weight:"Weight",height:"Height"},ae={hp:"#FF0000",attack:"#F08030",defense:"#F8D030","special-attack":"#6890F0","special-defense":"#78C850",speed:"#F85888"},ie={types:"row",stats:"column",abilities:"row"},le={types:function(e){var t;let s=(0,a.jsx)(a.Fragment,{});if(null===(t=e.type)||void 0===t?void 0:t.name){let t="pokemon-type ".concat(e.type.name);s=(0,a.jsx)("div",Object.assign({className:t},{children:e.type.name}))}return s},stats:function(e){var t;let s=(0,a.jsx)(a.Fragment,{});if((null===(t=e.stat)||void 0===t?void 0:t.name)&&e.base_stat){let t="pokemon-stat",i=255,l=ae[e.stat.name];s=(0,a.jsxs)("div",Object.assign({className:t},{children:[(0,a.jsx)("span",Object.assign({className:"pokemon-stat-label"},{children:e.stat.name})),(0,a.jsx)(_,{value:e.base_stat,maxValue:i,color:l})]}))}return s},abilities:function(e){var t;let s=(0,a.jsx)(a.Fragment,{});if(null===(t=e.ability)||void 0===t?void 0:t.name){let t="pokemon-ability";s=(0,a.jsxs)("span",Object.assign({className:t},{children:[e.ability.name,e.is_hidden&&" ".concat(" (hidden)")]}))}return s}},ne=(e,t=[],s=[])=>{let i=[];return e&&(i=Object.entries(e).map((([e,i],l)=>t.includes(e)?(0,a.jsx)(G,{propType:"string",propNameMap:se,propName:e,value:i},l):s.includes(e)?(0,a.jsx)(G,{propType:"list",propListLayout:ie[e],propName:e,propNameMap:se,propValueMap:le,value:i},l):void 0))),i};var oe=e=>{var t,s;const l=(0,n.I0)(),o=(0,n.v9)((e=>e.pokemon.data)),r=null==o?void 0:o.name,c=null==o?void 0:o.id,m=(0,n.v9)((e=>e.detailedList.results)),p=(0,n.v9)((e=>e.favorites.favorites)),g=i.useCallback((e=>{l(O(e))}),[l]);i.useEffect((()=>{r&&!c&&(e=>{l(C(e))})(r)}),[r,c]);const h=i.useCallback((()=>[{item:(0,a.jsx)(d,Object.assign({disabled:!(null==o?void 0:o.next),onClick:()=>g(m[null==o?void 0:o.next])},{children:"Next"})),position:"right",key:"nav-next"},{item:(0,a.jsx)(d,Object.assign({disabled:!(null==o?void 0:o.previous),onClick:()=>g(m[null==o?void 0:o.previous])},{children:"Previous"})),position:"left",key:"nav-text"}]),[o,m]),b=null===(s=null===(t=null==o?void 0:o.sprites)||void 0===t?void 0:t.other["official-artwork"])||void 0===s?void 0:s.front_default,f=i.useCallback((()=>r&&l(Q(r))),[l,r]),j=i.useCallback((()=>r&&l(X(r))),[l,r]),x=i.useCallback((()=>{v.debug(p,"PokeModal - got favorites");const e={item:(0,a.jsx)(d,Object.assign({iconName:"star",type:"primary",onClick:f},{children:"Add"})),position:"right",title:"Add to favorites",key:"favorite-add"},t={item:(0,a.jsx)(d,Object.assign({iconName:"star-o",type:"primary",onClick:j},{children:"Remove"})),position:"right",title:"Remove from favorites",key:"favorite-remove"};return r?[p.includes(r)?t:e]:[]}),[p,r]);return(0,a.jsx)(u,Object.assign({visible:!!o,closeModal:()=>l(N()),title:r,btmActionBarItems:h,topActionBarItems:x},{children:(0,a.jsxs)("div",Object.assign({className:"pokemon-data f fd-row mfd-col"},{children:[b&&(0,a.jsxs)("div",Object.assign({className:"pokemon-hero-container"},{children:["   ",(0,a.jsx)("div",Object.assign({className:"hero r-4-5",style:{backgroundImage:"url("+b+")"}},{children:" "}))]})),(0,a.jsx)("div",Object.assign({className:"pokemon-details"},{children:o&&ne(Object.assign({},o),ee,te)}))]}))}))},re=(0,x.PH)("setQuery");const ce=(0,x.PH)("notify"),de=(0,x.PH)("clearNotification"),ue=(0,x.PH)("clearAllNotifications"),me=(0,x.PH)("loadNotifications");var pe=ce;const ve={query:"",notifications:[]};var ge=(0,x.Lq)(ve,(e=>{e.addCase(re,((e,t)=>{e.query=t.payload})).addCase(pe,((e,t)=>{e.notifications.push(t.payload)})).addCase(de,((e,t)=>{let s=e.notifications.findIndex((e=>e.id===t.payload));e.notifications.splice(s,1)})).addCase(ue,((e,t)=>{e.notifications=ve.notifications})).addCase(me,((e,t)=>{e.notifications=[...e.notifications,...t.payload]}))})),he=i.forwardRef(((e,t)=>{const{name:s,label:l,size:n="m",type:o,onChange:r,onPressEnter:c,validator:d,required:u=!1,placeholder:m,inline:p=!1,labelSeparator:v=":",value:g}=e,h=i.useRef(null),[b,f]=i.useState([]);i.useImperativeHandle(t,(()=>({isInputRefType:!0,checkValidity:y,getValidity:()=>b,current:h.current})),[b]);let j="input-text f",x="input-wrapper m05 f";switch(x=p?`${x} fd-row`:`${x} fd-col`,u&&(j=`${j} input-required`),b.length&&(j=`${j} input-invalid`),n){case"s":j=`${j} col-4 col-lg-8 col-sm-12`;break;case"m":j=`${j} col-8 col-sm-12`;break;case"l":j=`${j} col-12`}const y=i.useCallback((()=>{var e;const t=null===(e=null==h?void 0:h.current)||void 0===e?void 0:e.value;let s=[];if(d){let e=d(t);e&&s.push(e)}return u&&!t&&s.push("This field is mandatory"),f(s),s}),[h.current,d,u]),k=i.useCallback((()=>{var e;const t=null===(e=null==h?void 0:h.current)||void 0===e?void 0:e.value;r&&r(t),y()}),[r,u]),w=i.useCallback((e=>{var t;if("Enter"==e.key&&c){const e=null===(t=null==h?void 0:h.current)||void 0===t?void 0:t.value;c(e)}}),[c]),C=i.useMemo((()=>b.map(((e,t)=>(0,a.jsx)("li",{children:"string"==typeof e?e:"Check this field"},t)))),[b]);return(0,a.jsx)("div",Object.assign({className:j},{children:(0,a.jsxs)("div",Object.assign({className:x},{children:[l&&(0,a.jsx)("label",Object.assign({className:"input-text-label",htmlFor:s},{children:`${l}${v}`})),(0,a.jsx)("input",{ref:h,name:s,type:o,onChange:k,onKeyUp:w,placeholder:m,defaultValue:g}),b.length?(0,a.jsx)("ul",Object.assign({className:"input-errors my05 t6"},{children:C})):(0,a.jsx)(a.Fragment,{})]}))}))})),be=e=>{const{disabled:t=!1,placeholder:s="Search",value:l="",onSearch:n}=e,o=i.useRef(null),[r,c]=i.useState(l),[u,m]=i.useState(!0),p=i.useRef(void 0),v=i.useCallback((e=>{m(!1),p.current&&window.clearTimeout(p.current),e!==r&&(p.current=window.setTimeout((()=>{c(e)}),1500))}),[r]),g=i.useCallback((()=>{var e;(null===(e=o.current)||void 0===e?void 0:e.current)&&(p.current&&window.clearTimeout(p.current),c(o.current.current.value))}),[o]);return i.useEffect((()=>{(r||""===r)&&(n(r),m(!0))}),[r,n]),(0,a.jsxs)("div",Object.assign({className:"searchbar"},{children:[(0,a.jsx)(he,{type:"text",ref:o,value:r,size:"l",name:"searchbar",placeholder:s,onChange:v,onPressEnter:g}),(0,a.jsx)(d,{iconName:"search",onClick:g,disabled:u})]}))},fe=()=>{const e=(0,n.I0)(),t=(0,n.v9)((e=>e.ui.query)),s=i.useCallback((t=>{e(re(t))}),[e]);return(0,a.jsx)(be,{value:t,onSearch:s,placeholder:"Search by name"})},je=e=>{const{icon:t,visible:s=!0,children:l,closeAlert:n,showClose:o=!0,onClose:r,className:c}=e,[u,m]=i.useState(!1),[p,v]=i.useState(!1);let g="alert";return c&&(g=`${g} ${c}`),i.useLayoutEffect((()=>{let e,t;s?(m(s),t=window.setTimeout((()=>v(!0)),150)):(e=window.setTimeout((()=>m(s)),1e3),v(s))}),[s]),p&&(g=`${g} visible`),i.useEffect((()=>{u||s||r&&r()}),[u]),u?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",Object.assign({className:g},{children:[o&&(0,a.jsx)(d,{onClick:n,className:"f-right m025",iconName:"close",shape:"circle",type:"text"}),(0,a.jsxs)("div",Object.assign({className:"alert-wrapper f fd-row p05"},{children:[t,(0,a.jsx)("div",Object.assign({className:"alert-content f aic t6 px05"},{children:l}))]}))]}))}):(0,a.jsx)(a.Fragment,{})};const xe=e=>{let t;switch(e){case"warning":t="exclamation-triangle";break;case"debug":t="lightbulb-o";break;case"error":t="frown-o";break;case"prompt":t="question-circle";break;case"pending":t="hourglass-end";break;default:t="info-circle"}return(0,a.jsx)("div",Object.assign({className:"alert-icon f aic p05"},{children:(0,a.jsx)(c,{name:t})}))};var ye=e=>{const{id:t,level:s="info",message:l,actions:n,clearable:o=!0,timeout:r,timestamp:c,showIcon:d=!0,showElapsedTime:u=!1,buttons:m,closeOnAction:p=!0,onClose:v,element:g=(0,a.jsx)(je,{}),getIcon:h=xe}=e,[b,f]=i.useState(!0);let j;d&&(j=h(s));const x=i.useMemo((()=>null==m?void 0:m.map(((e,t)=>(0,a.jsx)(e.type,Object.assign({},e.props,{onClick:()=>(e.props.onClick&&e.props.onClick(),void(p&&f(!1)))}),e.key||t)))),[m]),y=i.useCallback((()=>{f(!1)}),[]);return(0,a.jsx)(g.type,Object.assign({icon:j,visible:b,onClose:v,showClose:o,closeAlert:y},g.props,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:l}),(null==x?void 0:x.length)&&(0,a.jsx)("div",Object.assign({className:"alert-buttons px05 f jcc"},{children:x}))]})}),t)};const ke=(0,x.Iv)(R,C,P),we=(0,x.e)();we.startListening({matcher:ke,effect:async(e,t)=>{const s=t.dispatch,a=e.type.replace("/rejected","");s(de(e.meta.requestId));let i={id:(0,x.x0)(),level:"error",message:`Something went wrong while processing your request - (${a})`,clearable:!0,timestamp:(new Date).getTime(),actions:[{label:"Try again",globalFnName:"reattemptAction",payload:{action:e}}]};s(pe(i))}});const Ce=(0,x.zR)(R,C,P),Ne=(0,x.e)(),Oe={"poke/detailedList":"Loading pokemon information..","poke/list":"Loading pokemon list..","poke/getPokemon":"Loading pokemon.."};Ne.startListening({matcher:Ce,effect:async(e,t)=>{const s=t.dispatch,a=e.type.replace("/pending","");let i={id:e.meta.requestId,level:"pending",message:Oe[a]||"Loading..",clearable:!1,timestamp:(new Date).getTime()};s(pe(i))}});const Se=(0,x.KD)(R,C,P),Fe=(0,x.e)();Fe.startListening({matcher:Se,effect:async(e,t)=>{(0,t.dispatch)(de(e.meta.requestId))}});const Ee=(0,x.xC)({reducer:{ui:ge,list:B,pokemon:F,detailedList:T,favorites:Z},middleware:e=>e({serializableCheck:!1}).prepend(Ne.middleware,Fe.middleware,we.middleware)}),Ie={test:e=>{v.debug({notificationId:e},"test - called for notification")},reattemptAction:(e,{action:t})=>{v.debug({action:t},"reattemptAction - called for action");const s=((e,t)=>{for(const s of t)if((0,x.Gx)(s)(e))return v.debug({type:s.typePrefix},"getActionCreator - found action"),s})(t,[R,P,C]);(0,x.Gx)(t)&&s&&Ee.dispatch(s(t.meta.arg))}};var Pe=()=>{const e=(0,n.I0)(),t=(0,n.v9)((e=>e.ui.notifications)),s=i.useCallback((t=>{t&&e(de(t))}),[e]),l=i.useMemo((()=>t.map(((e,t)=>{var i;let l=null===(i=e.actions)||void 0===i?void 0:i.map(((t,s)=>(0,a.jsx)(d,Object.assign({onClick:()=>{Ie[t.globalFnName]&&Ie[t.globalFnName](e.id,t.payload)}},{children:t.label}),s)));return(0,a.jsx)(ye,{message:e.message,level:e.level,clearable:e.clearable,timeout:e.timeout,timestamp:e.timestamp,showElapsedTime:!e.timestamp,buttons:l,onClose:()=>s(e.id)},e.id)}))),[t]);return l.length?(0,a.jsx)("div",Object.assign({className:"notification-area f aie"},{children:l})):(0,a.jsx)(a.Fragment,{})};l.render((0,a.jsx)(i.StrictMode,{children:(0,a.jsx)(n.zt,Object.assign({store:Ee},{children:(0,a.jsx)((()=>{const e=(0,n.v9)((e=>e.list.total));return i.useEffect((()=>(e=>{let t=localStorage.getItem("total")?Number(localStorage.getItem("total")):null;!e||isNaN(e)?v.debug({total:e},"updateTotal - Given total is not a number or 0"):t&&t!==e?localStorage.setItem("total",e.toString()):t||localStorage.setItem("total",e.toString())})(e)),[e]),(0,a.jsxs)("div",Object.assign({id:"app"},{children:[(0,a.jsx)("div",{id:"modal-area"}),(0,a.jsx)("div",{id:"sidebar-area"}),(0,a.jsx)(Pe,{}),(0,a.jsxs)("main",{children:[(0,a.jsx)(j,{type:"primary",position:"top",items:[{item:(0,a.jsx)(fe,{}),title:"Search",position:"right",key:"searchbar",alt:(0,a.jsx)(d,{title:"Search",shape:"circle",iconName:"search"})},{item:(0,a.jsx)("span",{children:"BrockDex"}),position:"center",key:"app-logo"}]}),(0,a.jsx)(V,{}),(0,a.jsx)(oe,{})]})]}))}),{})}))}),document.getElementById("root"))}},function(e){e.O(0,[449,715],(function(){return 4442,e(e.s=4442)})),e.O()}]);